(function(b){function c(e,h){if(!e){return}var e=e.split("#")[0];var g=e.split("?");if(g.length==1){return}var f=decodeURI(g[1]);h+="=";var k=f.split("&");for(var d=0,j;j=k[d];++d){if(j.indexOf(h)===0){return unescape(j.split("=")[1])}}}var a={init:function(d){var f={twitter:true,facebook:true,};d=b.extend(d,f);try{if(FB&&FB.Event&&FB.Event.subscribe){FB.Event.subscribe("edge.create",function(e){_gaq.push(["_trackSocial","facebook","like",e])});FB.Event.subscribe("message.send",function(e){_gaq.push(["_trackSocial","facebook","send",e])})}}catch(g){}try{if(twttr&&twttr.events){twttr.events.bind("tweet",function(e){if(e){var h;if(e.target&&e.target.nodeName=="IFRAME"){h=c(e.target.src,"url")}_gaq.push(["_trackSocial","twitter","tweet",h])}})}}catch(g){}return"Social tracking enabled"}};b.fn.socialTracker=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{b.error("Method "+d+" does not exist on jQuery.socialTracker")}}}})(jQuery);